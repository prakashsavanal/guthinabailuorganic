"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[413],{413:function(e,t,i){i.r(t),i.d(t,{default:function(){return n}});var a=i(3827),r=i(4090);function l(e){let{images:t,productName:i}=e,[l,o]=(0,r.useState)(0),[s,n]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[g,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{d(!0)},[]);let u=e=>{if(c)try{o(e),n(!0),document.body.style.overflow="hidden"}catch(e){console.error("Error opening lightbox:",e),m("Failed to open image gallery")}},x=()=>{if(c)try{n(!1),document.body.style.overflow="auto"}catch(e){console.error("Error closing lightbox:",e),m("Failed to close image gallery")}};return c?g?(0,a.jsx)("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:g}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:t.map((e,t)=>(0,a.jsx)("button",{onClick:()=>u(t),className:"relative aspect-square rounded-lg overflow-hidden transition-transform duration-300 hover:scale-105 ".concat(l===t?"ring-2 ring-green-600":""),"aria-label":"View ".concat(i," image ").concat(t+1),children:(0,a.jsx)("img",{src:e,alt:"".concat(i," - Image ").concat(t+1),className:"w-full h-full object-cover",loading:"lazy",onError:t=>{console.error("Failed to load image: ".concat(e)),m("Failed to load some images")}})},t))}),s&&(0,a.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center animate-fade-in",role:"dialog","aria-label":"".concat(i," image gallery"),children:[(0,a.jsx)("button",{onClick:x,className:"absolute top-4 right-4 text-white text-4xl hover:text-gray-300 transition-colors","aria-label":"Close gallery",children:"\xd7"}),(0,a.jsx)("button",{onClick:()=>{if(c)try{o(e=>(e-1+t.length)%t.length)}catch(e){console.error("Error navigating to previous image:",e),m("Failed to navigate to previous image")}},className:"absolute left-4 text-white text-4xl hover:text-gray-300 transition-colors","aria-label":"Previous image",children:"‹"}),(0,a.jsx)("button",{onClick:()=>{if(c)try{o(e=>(e+1)%t.length)}catch(e){console.error("Error navigating to next image:",e),m("Failed to navigate to next image")}},className:"absolute right-4 text-white text-4xl hover:text-gray-300 transition-colors","aria-label":"Next image",children:"›"}),(0,a.jsxs)("div",{className:"relative max-w-4xl max-h-[90vh] mx-16",children:[(0,a.jsx)("img",{src:t[l],alt:"".concat(i," - Image ").concat(l+1),className:"max-w-full max-h-[90vh] object-contain",loading:"lazy",onError:e=>{console.error("Failed to load image: ".concat(t[l])),m("Failed to load image"),x()}}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-0 right-0 text-center text-white text-sm",children:[l+1," / ",t.length]})]})]})]}):(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:t.map((e,t)=>(0,a.jsx)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-gray-200 animate-pulse"},t))})}var o=i(2685);let s=[{id:"honey-500g",name:"Organic Forest Honey (500g)",price:499,description:"Pure, raw, and unadulterated honey from our forest-adjacent farmlands. Rich in natural enzymes.",image:"/images/honey-500g.jpg",images:["/images/honey-500g-1.jpg","/images/honey-500g-2.jpg","/images/honey-500g-3.jpg","/images/honey-500g-4.jpg"]},{id:"vco-500ml",name:"Virgin Coconut Oil (500ml)",price:349,description:"100% cold-pressed from fresh organic coconuts. Unrefined and pure, perfect for cooking or wellness.",image:"/images/vco-500ml.jpg",images:["/images/vco-500ml-1.jpg","/images/vco-500ml-2.jpg","/images/vco-500ml-3.jpg","/images/vco-500ml-4.jpg"]},{id:"honey-1kg",name:"Organic Forest Honey (1kg)",price:899,description:"Large pack of our signature forest honey, double the goodness for your family.",image:"/images/honey-1kg.jpg",images:["/images/honey-1kg-1.jpg","/images/honey-1kg-2.jpg","/images/honey-1kg-3.jpg","/images/honey-1kg-4.jpg"]},{id:"vco-1l",name:"Virgin Coconut Oil (1 Litre)",price:649,description:"Family-sized bottle of our cold-pressed VCO. A kitchen essential for healthy living.",image:"/images/vco-1l.jpg",images:["/images/vco-1l-1.jpg","/images/vco-1l-2.jpg","/images/vco-1l-3.jpg","/images/vco-1l-4.jpg"]}];function n(e){var t,i,n,c,d;let{cart:g,setCart:m,updateCartCount:u,onShowSection:x}=e,[h,f]=(0,r.useState)({}),[p,b]=(0,r.useState)(!0),[y,v]=(0,r.useState)({}),[j,N]=(0,r.useState)([]),[w,k]=(0,r.useState)("all"),[C,S]=(0,r.useState)("default"),[E,F]=(0,r.useState)(null),[O,I]=(0,r.useState)(!1),[z,D]=(0,o.YD)({triggerOnce:!0,threshold:.1});(0,r.useEffect)(()=>{I(!0);try{let e=localStorage.getItem("guthinabailuWishlist");e&&N(JSON.parse(e));let t={};g.forEach(e=>{t[e.id]=!0}),v(t);let i=setTimeout(()=>{b(!1)},1e3);return()=>clearTimeout(i)}catch(e){console.error("Error initializing Products component:",e),b(!1)}},[g]);let q=(e,t)=>{if(O)try{if(f(i=>({...i,[e]:t})),0===t){let t=g.filter(t=>t.id!==e);m(t),u(t),localStorage.setItem("guthinabailuCart",JSON.stringify(t)),v(t=>({...t,[e]:!1}))}else if(g.find(t=>t.id===e)){let i=g.map(i=>i.id===e?{...i,quantity:t}:i);m(i),u(i),localStorage.setItem("guthinabailuCart",JSON.stringify(i))}}catch(e){console.error("Error updating quantity:",e)}},J=e=>{if(O)try{let t;let i=h[e.id]||1;if(0===i){let t=g.filter(t=>t.id!==e.id);m(t),u(t),localStorage.setItem("guthinabailuCart",JSON.stringify(t)),v(t=>({...t,[e.id]:!1}));return}t=g.find(t=>t.id===e.id)?g.map(t=>t.id===e.id?{...t,quantity:i}:t):[...g,{...e,quantity:i}],m(t),u(t),localStorage.setItem("guthinabailuCart",JSON.stringify(t)),v(t=>({...t,[e.id]:!0}))}catch(e){console.error("Error adding to cart:",e)}},A=e=>{if(O)try{let t;t=j.some(t=>t===e.id)?j.filter(t=>t!==e.id):[...j,e.id],N(t),localStorage.setItem("guthinabailuWishlist",JSON.stringify(t))}catch(e){console.error("Error toggling wishlist:",e)}},V=e=>j.some(t=>t===e);return!O||p?(0,a.jsx)("section",{id:"products",className:"py-16 bg-gray-50",ref:z,children:(0,a.jsx)("div",{className:"container mx-auto px-6",children:(0,a.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})})})}):(0,a.jsxs)("section",{id:"products",className:"py-16 bg-gray-50",ref:z,children:[(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-center mb-12",children:"Our Products"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 max-w-5xl mx-auto",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg flex flex-col items-center text-center animate-slide-up",style:{animationDelay:"".concat(100*t,"ms")},children:[(0,a.jsxs)("div",{className:"relative w-full mb-4",children:[(0,a.jsx)("img",{src:e.image,alt:e.name,className:"w-32 h-32 object-contain mx-auto rounded-lg transition-transform duration-300 hover:scale-110 cursor-pointer",onClick:()=>F(e.id)}),(0,a.jsx)("button",{onClick:()=>A(e),className:"absolute top-0 right-0 text-2xl transition-transform duration-300 hover:scale-110 ".concat(V(e.id)?"text-red-500":"text-gray-400"),children:V(e.id)?"❤️":"\uD83E\uDD0D"})]}),(0,a.jsx)("h3",{className:"text-2xl font-semibold mb-4",children:e.name}),(0,a.jsx)("p",{className:"text-gray-700 mb-4",children:e.description}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-700 mb-4",children:["₹",e.price.toFixed(2)]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>q(e.id,Math.max(0,(h[e.id]||1)-1)),className:"bg-gray-200 text-gray-800 p-2 rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-300 transition-colors duration-200",children:"-"}),(0,a.jsx)("span",{className:"w-16 p-2 border rounded text-center",children:h[e.id]||1}),(0,a.jsx)("button",{onClick:()=>q(e.id,(h[e.id]||1)+1),className:"bg-gray-200 text-gray-800 p-2 rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-300 transition-colors duration-200",children:"+"})]}),(0,a.jsx)("button",{onClick:()=>J(e),className:"flex-1 py-2 px-4 rounded-full font-semibold transition-all duration-300 ".concat(y[e.id]?"bg-green-600 text-white hover:bg-green-700":"bg-green-700 text-white hover:bg-green-800"),children:0===h[e.id]?"Add to Cart":y[e.id]?"Added":"Add to Cart"})]})]},e.id))}),(0,a.jsx)("div",{className:"text-center mt-12 animate-fade-in",style:{animationDelay:"400ms"},children:(0,a.jsxs)("button",{onClick:()=>{x("cart")},className:"bg-green-700 text-white font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-green-800 transition-colors duration-300",children:["View Cart (",g.length,")"]})})]}),E&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center animate-fade-in",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg max-w-4xl w-full mx-4 animate-scale-in",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold",children:null===(t=s.find(e=>e.id===E))||void 0===t?void 0:t.name}),(0,a.jsx)("button",{onClick:()=>F(null),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(l,{images:(null===(i=s.find(e=>e.id===E))||void 0===i?void 0:i.images)||[(null===(n=s.find(e=>e.id===E))||void 0===n?void 0:n.image)||""],productName:(null===(c=s.find(e=>e.id===E))||void 0===c?void 0:c.name)||""})}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-700",children:["₹",null===(d=s.find(e=>e.id===E))||void 0===d?void 0:d.price.toFixed(2)]}),(0,a.jsx)("button",{onClick:()=>{J(s.find(e=>e.id===E)||s[0]),F(null)},className:"bg-amber-500 text-white font-semibold py-2 px-6 rounded-full hover:bg-amber-600 transition-colors duration-300",children:"Add to Cart"})]})]})})]})}}}]);